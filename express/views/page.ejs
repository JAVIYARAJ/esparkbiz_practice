<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

    <style>
        a {
            text-decoration: none;
        }

        #page-boxes {
            display: flex;
        }

        .page-box {
            height: 30px;
            width: 30px;
            border: 1px solid black;
            border-radius: 10px;
        }

        #btns {
            margin: 10px;
            display: flex;
        }

        .changeBtn {
            display: flex;
            justify-content: center;
        }
    </style>
</head>

<body>

    <div class="container mt-5">

        <div class="container">
            <form action="/search" method="post">
                <div class="input-group mb-3">
                    <input type="text" class="form-control" name="fname">
                    <input type="submit" class="btn btn-success">
                    </button>
                </div>

            </form>

        </div>


        <table border="1" class="table table-hover ">
            <tr>
                <th><a class=".link" href="/?page=1&orderBy=id&sort=<%=sort%>&sortField=id">ID</a></th>
                <th><a class=".link" href="/?page=1&orderBy=First_Name&sort=<%=sort%>&sortField=First_Name">First
                        name</a></th>
                <th><a class=".link" href="/?page=1&orderBy=Last_Name&sort=<%=sort%>&sortField=Last_Name">Last name</a>
                </th>
                <th><a class=".link" href="/?page=1&orderBy=Contact_No&sort=<%=sort%>&sortField=Contact_No">phone
                        number</a></th>
                <th><a class=".link" href="/?page=1&orderBy=City&sort=<%=sort%>&sortField=City">city</a></th>
                <th><a class=".link" href="/?page=1&orderBy=Email&sort=<%=sort%>&sortField=Email">email</a></th>
                <th><a class=".link"
                        href="/?page=1&orderBy=University_id&sort=<%=sort%>&sortField=University_id">university_id</a>
                </th>
                <th><a class=".link" href="/?page=1&orderBy=createdAt&sort=<%=sort%>&sortField=createdAt">createdAt</a>
                </th>
            </tr>
            <% for(let i=0;i<data.length;i++){ %>
                <tr>
                    <% for(let j=0;j<id.length;j++){ %>
                        <td>
                            <%= data[i][id[j]] %>
                        </td>
                        <%}%>
                </tr>
                <%}%>
        </table>
        <div class="container changeBtn">
            <a class="btn btn-primary m-1" href="/?page=<%=page%>&orderBy=id&sort=<%=sort%>" role="button">Next
                &nbsp;&nbsp;<%=page%></a>
            <a class="btn btn-primary m-1" href="/?page=<%= prev %>" role="button" <% if(prev==0){%>
                style="visibility:hidden;"
                <%}else{ %>
                    style="visiblity:visible"
                    <%}%>

                        >Prev&nbsp;&nbsp; <%= prev%>
            </a>
            <a class="btn btn-primary disabled m-1" href="#" role="button">Total Pages&nbsp;&nbsp; <%= total_pages%></a>
        </div>

        <br>
        <br>
        <br>
        <div class="container changeBtn">

            <%for(let i=(page>5 ? (page-5) : 1) ;i< (page>5 && page< total_pages ? (page+5) : 10);i++){ %>
                        <a <% if( page==i+1 ){%>
                            style="background-color:green;"
                            <%} else {%>
                                style="background-color:rgb(13,110,253)"
                                <%}%>
                                    class="btn btn-primary m-1"
                                    href="/?page=<%= i %>"
                                        role="button">Page-<%=i%>
                        </a>
                        <%}%>
        </div>

    </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>


</html>